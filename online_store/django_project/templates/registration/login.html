<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <!-- Include Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
</head>
<body>
    <div id="app">
        <form @submit.prevent="submitForm">
            <label for="username">Username:</label>
            <input id="username" v-model="username" type="text" required>

            <label for="password">Password:</label>
            <input id="password" v-model="password" type="password" required>

            <button type="submit">Login</button>
        </form>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                username: '',
                password: ''
            },
            methods: {
                submitForm() {
                    // Create an instance of FormData
                    let formData = new FormData();
                    // Append the username and password to formData
                    formData.append('username', this.username);
                    formData.append('password', this.password);
                    // Send a POST request to the server with formData
                    fetch('/login/', {
                        method: 'POST',
                        body: formData
                    }).then(response => {
                        if (response.ok) {
                            // Redirect to the home page if the login is successful
                            window.location.href = '/';
                        } else {
                            // Display an error message if the login is unsuccessful
                            alert('Invalid username or password');
                        }
                    });
                }
            }
        });
    </script>
</body>
</html>