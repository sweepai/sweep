# Sweep Assistant

This is a fully locally running dev tool for getting Sweep to code alongside you. It uses your local machine to execute all your code for security and rapid iteration.

## Installation

*5 minutes to set up*

**Pre-requisites**
1. Make sure you have an [OpenAI account](https://platform.openai.com)
2. Ensure you have the following installed on your machine [Node.js](https://nodejs.org/en/download/) (> v18). If you are using a different version, you can use [`nvm`](https://github.com/nvm-sh/nvm#installing-and-updating) to upgrade your Node.js version.

Then, install the assistant by running the following command in your terminal and following:

```sh filename="terminal"
curl -O https://raw.githubusercontent.com/sweepai/sweep/feat/platform-install-script/bin/install_assistant.sh && sh install_assistant.sh
```

Once everything is installed, you can run the assistant by running `sweep` in your terminal.

{/* ### Step 1: Downloading Sweep

You can download Sweep by running the following command in your terminal in any directory:

```sh filename="terminal"
npm i sweepai
cd node_modules/sweepai
npm i
npm run build --no-lint
```

This should take a couple minutes to install. In the meantime, move onto the next step.

<details>
<summary>⚠️ If you get the error: "You are using Node.js 16.14.2. For Next.js, Node.js version >= v18.17.0 is required."</summary>

If you see this warning, you need to update your Node.js version by first installing [NVM](https://github.com/nvm-sh/nvm#installing-and-updating).

Then run nvm install and rebuild:

```sh filename="terminal"
nvm i
npm run build --no-lint
```
</details>

### Step 2: Get your OpenAI key

Get an OpenAI key [here](https://platform.openai.com/api-keys) and add it to your `.env.local` (in `./node_modules/sweepai/.env.local`).

```sh filename="terminal"
echo "OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" > .env.local
```

### Step 3: Run the Tool

Now you can build the tool and this will take about 20s. Then you can start the tool with:

```sh filename="terminal"
# Run this in the same directory (should be ./node_modules/sweepai)
npm start
``` */}

## Using Sweep Assistant

1. Insert the path to your local repository.
    - You can run `pwd` to use your current working directory.
    - (Optional) Edit the branch name to checkout into a new branch for Sweep to work in (defaults to current branch).
2. Select an existing file for Sweep to edit.
3. Add meticulous instructions for the code to edit, such as the modification.
4. Modify the "Test Script" to write your script for running unit tests, such as `python $FILE_PATH`. You may use the variable $FILE_PATH to refer to the current path. Click the "Run Tests" button to test the script.
    - Hint: use the $FILE_PATH parameter to only check the current file to reduce noise from the unit tests or other failing lints from other files.
5. Click "Generate Code" to get Sweep to edit the file based on the changes.
6. Then click "Reload" or the check mark to restart or approve the change.
